<?php

namespace AppBundle\Entity;

use Doctrine\ORM\Mapping as ORM;
use Doctrine\Common\Collections\ArrayCollection;

/**
 * VisitaMedica
 *
 * @ORM\Table(name="visita_medica")
 * @ORM\Entity(repositoryClass="AppBundle\Repository\VisitaMedicaRepository")
 */
class Visita
{
    /**
     * @var int
     *
     * @ORM\Column(name="id", type="integer")
     * @ORM\Id
     * @ORM\GeneratedValue(strategy="AUTO")
     */
    private $id;

    /**
     * @var \DateTime
     *
     * @ORM\Column(name="fecha", type="datetime")
     */
    private $fecha;

    /**
     * @var string
     *
     * @ORM\Column(name="observaciones", type="string", length=900, nullable=true)
     */
    private $observaciones;

    /**
     * @var string
     *
     * @ORM\Column(name="notas_personales", type="string", length=900, nullable=true)
     */
    private $notasPersonales;

    /**
     * @ORM\ManyToMany(targetEntity="Motivo")
     * @ORM\JoinTable(name="visita_motivo",
     *      joinColumns={@ORM\JoinColumn(name="motivo_id", referencedColumnName="id")},
     *      inverseJoinColumns={@ORM\JoinColumn(name="visita_id", referencedColumnName="id")}
     *      )
     */
    private $motivos;

    /**
     * @ORM\ManyToMany(targetEntity="Diagnostico")
     * @ORM\JoinTable(name="visita_diagnostico",
     *      joinColumns={@ORM\JoinColumn(name="diagnostico_id", referencedColumnName="id")},
     *      inverseJoinColumns={@ORM\JoinColumn(name="visita_id", referencedColumnName="id")}
     *      )
     */
    private $diagnosticos;

    /**
     * @ORM\ManyToOne(targetEntity="Paciente", inversedBy="visitas")
     * @ORM\JoinColumn(name="paciente_id", referencedColumnName="id")
     */
    protected $paciente;

//    TODO: validar tipo de usuario.
    /**
     * @ORM\ManyToOne(targetEntity="Usuario", inversedBy="visitas")
     * @ORM\JoinColumn(name="usuario_id", referencedColumnName="id")
     */
    protected $medico;
    
}
